(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"015a":function(t,e,n){},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),p=n("d039"),f=[].push,m=Math.min,h=4294967295,g=!p((function(){return!RegExp(h,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(o(this)),a=void 0===n?h:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,a);var s,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=new RegExp(t.source,p+"g");while(s=d.call(g,r)){if(l=g.lastIndex,l>m&&(u.push(r.slice(m,s.index)),s.length>1&&s.index<r.length&&f.apply(u,s.slice(1)),c=s[0].length,m=l,u.length>=a))break;g.lastIndex===s.index&&g.lastIndex++}return m===r.length?!c&&g.test("")||u.push(""):u.push(r.slice(m)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var d=a(t),p=String(this),f=s(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new f(g?d:"^(?:"+d.source+")",x),w=void 0===i?h:i>>>0;if(0===w)return[];if(0===p.length)return null===u(b,p)?[p]:[];var y=0,I=0,k=[];while(I<p.length){b.lastIndex=g?I:0;var C,_=u(b,g?p:p.slice(I));if(null===_||(C=m(c(b.lastIndex+(g?0:I)),p.length))===y)I=l(p,I,v);else{if(k.push(p.slice(y,I)),k.length===w)return k;for(var E=1;E<=_.length-1;E++)if(k.push(_[E]),k.length===w)return k;I=y=C}}return k.push(p.slice(y)),k}]}),!g)},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"1ede":function(t,e,n){"use strict";var r=n("015a"),i=n.n(r);i.a},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?o.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),a=n("b622"),o=n("83ab"),s=a("species");t.exports=function(t){var e=r(t),n=i.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},4538:function(t,e,n){"use strict";var r=n("8a42"),i=n.n(r);i.a},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),a=n("b622"),o=a("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},"489b":function(t,e,n){"use strict";var r=n("ea12"),i=n.n(r);i.a},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("7156"),s=n("9bf2").f,l=n("241c").f,c=n("44e7"),u=n("ad6d"),d=n("9f7f"),p=n("6eeb"),f=n("d039"),m=n("69f3").set,h=n("2626"),g=n("b622"),v=g("match"),x=i.RegExp,b=x.prototype,w=/a/g,y=/a/g,I=new x(w)!==w,k=d.UNSUPPORTED_Y,C=r&&a("RegExp",!I||k||f((function(){return y[v]=!1,x(w)!=w||x(y)==y||"/a/i"!=x(w,"i")})));if(C){var _=function(t,e){var n,r=this instanceof _,i=c(t),a=void 0===e;if(!r&&i&&t.constructor===_&&a)return t;I?i&&!a&&(t=t.source):t instanceof _&&(a&&(e=u.call(t)),t=t.source),k&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=o(I?new x(t,e):x(t,e),r?this:b,_);return k&&n&&m(s,{sticky:n}),s},E=function(t){t in _||s(_,t,{configurable:!0,get:function(){return x[t]},set:function(e){x[t]=e}})},S=l(x),$=0;while(S.length>$)E(S[$++]);b.constructor=_,_.prototype=b,p(i,"RegExp",_)}h("RegExp")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5d6d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-outer"},[n("flex-col",{staticClass:"page-inner",staticStyle:{height:"100%",positon:"relative"}},[n("flex-fixed",[n("flex-row",{staticStyle:{magin:"0",height:"67px","line-height":"72px","margin-bottom":"0"}},[n("flex-fixed",[n("router-link",{attrs:{to:"/"}},[n("a-button",{attrs:{type:"link",icon:"left",size:"large"}})],1)],1),n("flex-fill",[n("b",{staticStyle:{"font-size":"1.5em"}},[t._v(t._s(t.title))]),t.templateName?n("span",{staticStyle:{"padding-left":"12px","vertical-align":"2px"}},[n("a-tag",{attrs:{color:"rgb(11,196,196)"}},[t._v(t._s(t.templateName))])],1):t._e(),n("span",{staticStyle:{"padding-left":"2px","vertical-align":"2px"}},[t._v("2020-07-24 至 2020-08-04")])])],1)],1),n("flex-fill",{style:{positon:"relative",overflow:"auto"}},[n("div",{style:{display:"grid",gridGap:"20px",padding:"5px 20px 20px 20px",width:338*(t.cols.length+1)+20+"px",gridTemplateColumns:"repeat("+(t.cols.length+1)+",320px)"}},[t._l(t.cells,(function(e){return["panel"===e.type?n("cell-panel",{key:e.rowId+"-"+e.colId,attrs:{rowId:e.rowId,colId:e.colId,items:e.items,userList:t.allUserList},on:{add:function(e){var n=e.rowId,r=e.colId,i=e.sort,a=e.info;return t.addItem({rowId:n,colId:r,sort:i,info:a})},update:function(e){var n=e.rowId,r=e.colId,i=e.items;return t.updateItems({rowId:n,colId:r,items:i})},openDetail:function(e){return t.openDetail(e)}}}):t._e(),"operate"===e.type?n("row-opreater",{key:e.rowId+"-"+e.colId,attrs:{rowId:e.rowId},on:{rowUp:function(e){var n=e.rowId;return t.rowUp(n)},rowDown:function(e){var n=e.rowId;return t.rowDown(n)},rowTop:function(e){var n=e.rowId;return t.rowTop(n)},rowBottom:function(e){var n=e.rowId;return t.rowBottom(n)},rowDelete:function(e){var n=e.rowId;return t.rowDelete(n)},rowCopy:function(e){var n=e.rowId;return t.rowCopy(n)}}}):t._e()]})),n("a-button",{on:{click:function(){return t.addRow()}}},[t._v("添加泳道")])],2)])],1),n("card-modal",{ref:"cardModal",attrs:{userList:t.allUserList}})],1)},i=[],a=(n("99af"),n("4de4"),n("7db0"),n("5db7"),n("4160"),n("d81d"),n("73d9"),n("d3b7"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-operate"},[n("p",[n("a-button",{staticStyle:{"margin-right":"12px"},attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"arrow-up"},on:{click:t.rowUp}})],1),n("p",[n("a-button",{staticStyle:{"margin-right":"12px"},attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"arrow-down"},on:{click:t.rowDown}})],1),n("p",[n("a-button",{staticStyle:{"margin-right":"12px"},attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"delete"},on:{click:t.rowDelete}})],1)])}),o=[],s={props:["rowId"],methods:{rowUp:function(){this.$emit("rowUp",{rowId:this.rowId})},rowDown:function(){this.$emit("rowDown",{rowId:this.rowId})},rowTop:function(){this.$emit("rowTop",{rowId:this.rowId})},rowBottom:function(){this.$emit("rowBottom",{rowId:this.rowId})},rowDelete:function(){this.$emit("rowDelete",{rowId:this.rowId})},rowCopy:function(){this.$emit("rowCopy",{rowId:this.rowId})}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,o,!1,null,"39f5bc32",null),d=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell-panel"},[n("flex-col",{staticStyle:{height:"100%"}},[n("flex-fill",[n("draggable",{staticStyle:{"padding-bottom":"16px",height:"100%"},attrs:{element:"div",ghostClass:"work-card-ghost",group:{name:"card"}},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},t._l(t.list,(function(e){return n("div",{key:e.cardId,staticClass:"panel card",on:{click:function(){return t.openDetail(e)}}},[t._v(" "+t._s(e.content)+" "),n("div",{staticStyle:{overflow:"hidden",margin:"6px 0 -6px 0"}},[e.hour?n("div",{staticClass:"hour-tag"},[t._v(t._s(e.hour))]):t._e(),e.time?n("div",{staticClass:"date-tag"},[t._v(" "+t._s(e.time.format("MM,月,DD,日").split(",").map((function(t){return Number(t)?Number(t):t})).join(""))+"截止 ")]):t._e(),t._l(e.executors,(function(e){return n("a-avatar",{key:"e-"+e.uid,staticClass:"avatar-tag"},[t._v(t._s(e.realname[0])+t._s(e.realname[1]?e.realname[1]:""))])}))],2)])})),0)],1),n("flex-fixed",[t.isAddingCard?t._e():n("div",{staticClass:"add-btn"},[n("a-button",{attrs:{type:"link",icon:"plus"},on:{click:function(e){return t.changeStatus("add")}}},[t._v("添加新的卡片")])],1),t.isAddingCard?n("div",{staticClass:"input panel card"},[n("a-textarea",{attrs:{placeholder:"Basic usage",rows:4},model:{value:t.addCardInfo.content,callback:function(e){t.$set(t.addCardInfo,"content",e)},expression:"addCardInfo.content"}}),t.addCardInfo.user.length>0||t.addCardInfo.hour||t.addCardInfo.time?n("div",{staticStyle:{"margin-top":"12px"}},[t._l(t.addCardInfo.user,(function(e){return n("a-avatar",{key:e.uid,style:{backgroundColor:"rgb(19,194,194)",verticalAlign:"-7px",marginRight:"6px"},attrs:{size:"small"}},[t._v(t._s(e.realname[0]))])})),t.addCardInfo.hour?n("a-avatar",{style:{backgroundColor:"rgb(56,194,238)",verticalAlign:"-7px",marginRight:"6px"},attrs:{size:"small"}},[t._v(t._s(t.addCardInfo.hour))]):t._e(),t.addCardInfo.time?n("div",{staticClass:"date-tag_add"},[t._v(" "+t._s(t.addCardInfo.time.format("MM,月,DD,日").split(",").map((function(t){return Number(t)?Number(t):t})).join(""))+" ")]):t._e()],2):t._e(),n("div",{staticClass:"detail-btn-cntr"},[n("a-popover",{attrs:{trigger:"click"},model:{value:t.userVisible,callback:function(e){t.userVisible=e},expression:"userVisible"}},[n("template",{slot:"content"},[n("a-input",{staticStyle:{display:"inline-block",width:"168px",margin:"0 0 12px 0"},attrs:{placeholder:"搜索"},model:{value:t.userSearch,callback:function(e){t.userSearch=e},expression:"userSearch"}}),n("a-menu",{staticStyle:{margin:"0 -16px",width:"200px",height:"120px",overflow:"auto"},attrs:{"v-model":t.userKeys}},t._l(t.userSelectList,(function(e){return n("a-menu-item",{key:e.uid,on:{click:function(n){return t.userSelect(e)}}},[n("a-avatar",{staticStyle:{position:"relative"},style:{backgroundColor:"rgb(19,194,194)",verticalAlign:"-7px",marginRight:"4px"},attrs:{size:"small"}},[t._v(t._s(e.realname[0]))]),t._v(" "+t._s(e.realname)+" "),n("icon-font",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"v.selected"}],staticStyle:{float:"right",margin:"12px 10px"},attrs:{type:"check"}})],1)})),1)],1),n("a-button",{staticClass:"detail-btn",attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"user"}})],2),n("a-date-picker",{style:{minWidth:0},attrs:{"show-time":"",placeholder:"截至日期"},model:{value:t.addCardInfo.time,callback:function(e){t.$set(t.addCardInfo,"time",e)},expression:"addCardInfo.time"}},[n("a-button",{staticClass:"detail-btn",attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"history"}})],1),n("a-popover",{attrs:{trigger:"click"},model:{value:t.hourVisible,callback:function(e){t.hourVisible=e},expression:"hourVisible"}},[n("a-form-model",{staticStyle:{width:"120px"},attrs:{slot:"content",model:t.addCardInfo},slot:"content"},[n("a-form-model-item",{attrs:{label:"工时","label-col":{span:8},"wrapper-col":{span:16}}},[n("a-input",{model:{value:t.addCardInfo.hour,callback:function(e){t.$set(t.addCardInfo,"hour",e)},expression:"addCardInfo.hour"}})],1)],1),n("a-button",{staticClass:"detail-btn last",attrs:{size:"small",ghost:!0,type:"primary",shape:"circle",icon:"schedule"}})],1)],1),n("div",{staticClass:"btn-cntr"},[n("a-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("确定")]),n("a-button",{attrs:{type:"link"},on:{click:function(e){return t.changeStatus("def")}}},[t._v("取消")])],1)],1):t._e()])],1)],1)},f=[],m=(n("c975"),n("498a"),n("310e")),h=n.n(m),g=(n("cb29"),n("a15b"),n("ac1f"),n("1276"),"\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。\n\n谢邀，发动机转速上限这个事情，跟几个因素相关。第一个就是运转件的质量，\n运转件就是曲轴连杆活塞气门，气门驱动机构，这些运转件自身惯量越小，越容\n易的达到高转速。很显然一个问题，大众的TDI是轻量化柴油机，而货车重载车\n辆都是重载柴油机。第二个就是柴油的燃烧速率，你可以认为柴油燃烧速度是有\n上限的，它属于重质燃油，它燃烧速度比不上航煤，也比不上汽油，所以火焰传\n播速度是有上限的，所以燃烧室越大，火焰能在做工冲程传播完毕的可能性就越\n小，所以大缸体柴油机必然不适合高速运转。货车发动机一般都是12L起步，单\n缸大约2L容积，而乘用车单缸一般就是0.5L。第三个转速高的意义，转速高意\n味着可以有更大的功率，实际上单纯的提高扭矩不提高转速也能提高功率，只\n是殊途同归罢了，相对于用高转速柴油机拉转速获得充沛的起步动力，直接提高低\n转速最大扭矩更为简单。第四个，更高的转速意味着机油劣化速度更快，对于货车这种\n5万公里一次保养的车来说，追求高转速发动机是不合适的第5个，活塞的线速度，\n摩托车引擎轻松破万，而乘用车就是6-7k，柴油更低4-5k，重载柴油机更低2k上\n下，其中有一点是变化不大的就是活塞相对于气缸的线速度，冲程长转速低活塞线\n速度并不定就低于短冲转速高的发动机".split("").filter((function(t){return["，","。","\n"].indexOf(t)<0})).join("")),v=function(t,e){return Math.floor(Math.random()*(e-t))+t},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return new Array(v(t,e)).fill(0).map((function(){return g[v(0,g.length)]})).join("")},b={components:{draggable:h.a},props:["rowId","colId","items","userList"],data:function(){return{isAddingCard:!1,userVisible:!1,hourVisible:!1,userSearch:"",addCardInfo:{content:x(),time:null,hour:0,user:[]}}},mounted:function(){console.log(this.list)},computed:{list:{get:function(){return this.items.map((function(t){return t})).sort((function(t,e){return t.sort-e.sort}))},set:function(t){this.$emit("update",{rowId:this.rowId,colId:this.colId,items:t})}},userKeys:function(){return[]},userSelectList:function(){var t=this,e=this.userSearch.toLocaleLowerCase().trim();return this.userList.filter((function(t){var n=t.realname;return!e||n.toLocaleLowerCase().indexOf(e)>=0})).map((function(e){return Object.assign({},e,{selected:!!t.addCardInfo.user.find((function(t){return t.uid===e.uid}))})}))}},methods:{add:function(){this.$emit("add",{info:this.addCardInfo,rowId:this.rowId,colId:this.colId,sort:0===this.list.length?0:this.list[this.list.length-1].sort+1}),this.isAddingCard=!1},log:function(){console.log(this.list)},userSelect:function(t){var e=!!this.addCardInfo.user.find((function(e){return e.uid===t.uid}));this.addCardInfo.user=e?this.addCardInfo.user.filter((function(e){return e.uid!==t.uid})):this.addCardInfo.user.concat([Object.assign({},t)])},hourInput:function(){},changeStatus:function(t){"add"===t?(this.isAddingCard=!0,this.userSearch="",this.addCardInfo={content:x(20,100),time:"",hour:0,user:[]}):this.isAddingCard=!1},openDetail:function(t){this.$emit("openDetail",t)}}},w=b,y=(n("f93c"),Object(c["a"])(w,p,f,!1,null,"7c45953a",null)),I=y.exports,k=(n("b0c0"),n("a9e3"),function(t,e){return Math.floor(Math.random()*(e-t))+t}),C=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],_=function(){return"xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxxxxxx".split("").map((function(t){return"-"===t?t:C[k(0,C.length)]})).join("")},E=n("d354"),S=n("c1df"),$=n.n(S),R=function(){return{rowId:_(),sort:T.length}},D=function(){return{colId:_()}},T=[],L=[],N={toServer:function(t,e){var n=e.rowId,r=e.colId,i=e.cardId,a=e.sort,o=e.content,s=e.executors,l=e.time,c=e.hour;return{laneId:n,columnId:r,cardId:i,sort:a,panelId:t,name:o,execId:s.map((function(t){return t.uid})).join(","),workTime:c,endTime:l?l.format("YYYY-MM-DD hh:mm:ss"):""}},toClient:function(t){var e=t.cardId,n=t.columnId,r=t.laneId,i=t.name,a=t.sort,o=t.version,s=t.endTime,l=t.workTime,c=t.execName;return{rowId:r,colId:n,cardId:e,sort:a,version:o,executors:c?c.map((function(t){var e=t.id,n=t.name;return{uid:e,realname:n}})):[],content:i,hour:Number(l)?Number(l):0,time:s?$()(s):null}}};T.push(R()),T.push(R()),T.push(R()),T.push(R()),L.push(D()),L.push(D()),L.push(D()),L.push(D());var A=function(t){return E["a"]("/task/panel/getPanelInfo",{panelId:t}).then((function(t){var e=t.panelColumns,n=t.lanes,r=t.cardInfos,i=t.panel,a=t.project;return{cols:e.map((function(t){var e=t.id,n=t.name,r=t.sort;return{colId:e,name:n,sort:r}})).sort((function(t,e){return t.sort-e.sort})),rows:n.map((function(t){var e=t.id,n=t.sort;return{rowId:e,sort:n}})).sort((function(t,e){return t.sort-e.sort})),cards:r.map((function(t){return N.toClient(t)})),panel:i,title:i.name,templateName:a.template}}))},O=function(t){return E["b"]("/task/lane/create",{panelId:t})},F=function(t){return E["a"]("/task/lane/delete",{id:t})},j=function(t){return E["b"]("/task/lane/drag",t.map((function(t,e){return{sort:e,id:t.rowId}})))},M=function(t,e){return E["b"]("/task/card/create",N.toServer(t,e))},U=function(t,e){return E["b"]("/task/card/drag",{panelId:t,cellList:e.map((function(t){var e=t.colId,n=t.rowId,r=t.version,i=t.items;return{columnId:e,laneId:n,version:r,cardList:i.map((function(t){var e=t.cardId,n=t.sort;return{cardId:e,sort:n}}))}}))})},z=function(t,e){return E["b"]("/task/card/getCellsInfo",e.map((function(e){var n=e.colId,r=e.rowId;return{columnId:n,laneId:r,panelId:t}}))).then((function(t){return t.map((function(t){var e=t.columnId,n=t.laneId,r=t.cardInfos;return{rowId:n,colId:e,items:r.map((function(t){return N.toClient(t)}))}}))}))},P=n("7cd9"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{width:1080,height:640,title:"任务",footer:null},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("flex-row",{staticClass:"modal-body"},[n("flex-fixed",{staticClass:"modal-panel",staticStyle:{"margin-right":"0",width:"660px",overflow:"auto"}},[n("a-input",{staticClass:"input-name",staticStyle:{resize:"none"},attrs:{type:"textarea","auto-size":{minRows:1}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("div",{staticClass:"input-line"},[n("div",{staticClass:"input-item"},[n("div",{staticClass:"input-item-title"},[t._v("执行人")]),n("div",{staticClass:"input-item-content"},[n("circle-member-btn",{attrs:{member:t.info.member,"user-list":t.userList},on:{change:function(e){return t.updateInfo("member",e)}}})],1)])]),n("div",{staticClass:"input-line"},[n("div",{staticClass:"input-item"},[n("div",{staticClass:"input-item-title"},[t._v("开始时间")]),n("div",{staticClass:"input-item-content"},[n("circle-time-btn",{attrs:{time:t.info.beginTime},on:{change:function(e){return t.updateInfo("beginTime",e)}}})],1)]),n("div",{staticClass:"input-item"},[n("div",{staticClass:"input-item-title"},[t._v("结束时间")]),n("div",{staticClass:"input-item-content"},[n("circle-time-btn",{attrs:{time:t.info.endTime},on:{change:function(e){return t.updateInfo("endTime",e)}}})],1)])]),n("div",{staticClass:"input-line"},[n("div",{staticClass:"input-item"},[n("div",{staticClass:"input-item-title"},[t._v("工时")]),n("div",{staticClass:"input-item-content"},[n("circle-hour-btn",{attrs:{hour:t.info.hour},on:{change:function(e){return t.updateInfo("hour",e)}}})],1)])]),n("div",{staticClass:"input-line"},[n("detail-edit-line-content",{attrs:{desc:t.info.desc},on:{change:function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];return t.saveDesc.apply(void 0,e)}}})],1),n("div",{staticClass:"input-line"},[n("div",{staticClass:"input-item"},[n("div",{staticClass:"input-item-title"},[t._v("附件")])])])],1),n("flex-fill",{staticClass:"modal-panel",staticStyle:{padding:"0"}},[n("flex-col",{staticStyle:{height:"100%"}},[n("flex-fixed",{staticStyle:{color:"rgb(19,194,194)",height:"48px","line-height":"60px","border-bottom":"1px solid rgb(233,233,233)","padding-left":"32px"}},[t._v("反馈")]),n("flex-fill",{staticStyle:{overflow:"auto","padding-top":"24px"}},t._l(t.comments,(function(t){return n("comment-item",{key:t,attrs:{msg:t}})})),1),n("flex-fixed",[n("comment-input")],1)],1)],1)],1)],1)},V=[],Y=n("ade3"),K={props:["time"],template:'\n  <div>\n  <a-date-picker\n    v-model="currentTime"\n    show-time\n    :style="{minWidth:0}"\n    placeholder="开始时间"\n    >\n    <a-button\n        :ghost="true"\n        type="primary"\n        shape="circle"\n        icon="history"\n        class="ava-btn"\n    />\n    </a-date-picker>\n    <span v-if="!!time" style="vertical-align: middle;">\n        {{ time.format(\'MM,月,DD,日\').split(\',\').map(v=>Number(v)?Number(v):v).join(\'\') }}\n    </span>\n  </div>',computed:{currentTime:{get:function(){return this.time},set:function(t){this.$emit("change",t)}}}},W={props:["hour"],template:'  \n    <div>\n    <a-popover v-model="userVisible" trigger="click">\n      <a-form-model slot="content" style="width:120px">\n        <a-form-model-item label="工时" :label-col="{span :8}" :wrapper-col="{span :16}">\n          <a-input v-model="workhour" />\n        </a-form-model-item>\n      </a-form-model>\n        <a-button\n          :ghost="true"\n          type="primary"\n          shape="circle"\n          icon="schedule"\n          class="ava-btn"\n        />\n    </a-popover>\n\n    {{hour?hour:\'\'}}\n    </div>\n    ',data:function(){return{userVisible:!1}},computed:{workhour:{get:function(){return this.hour},set:function(t){this.$emit("change",t)}}}},G={props:["userList","member"],template:'  \n    <div>\n\n    <a-avatar\n        v-for="(v) in member"\n        :key="v.uid"\n        \n        @click="()=>userSelect(v)"\n\n        class="ava-btn"\n        :style="{ \n        backgroundColor: \'rgb(19,194,194)\', \n        }"\n    >{{v.realname[0]}}{{v.realname[1]?v.realname[1]:""}}</a-avatar>\n\n    <a-popover v-model="userVisible" trigger="click">\n        <template slot="content">\n            <a-input\n            placeholder="搜索"\n            v-model="keyWord"\n            style="display:inline-block;width:168px;margin:0 0 12px 0 "\n            />\n            <a-menu\n            :v-model="userKeys"\n            style="margin: 0 -16px;width:200px;height:120px;overflow:auto"\n            >\n            <a-menu-item v-for="(v) in userSelectList" @click="userSelect(v)" :key="v.uid">\n                <a-avatar\n                size="small"\n                style="position:relative"\n                :style="{ \n                    backgroundColor: \'rgb(19,194,194)\', \n                    verticalAlign: \'-7px\', \n                    marginRight:\'4px\',\n                }"\n                >{{v.realname[0]}}</a-avatar>\n                {{v.realname}}\n                <icon-font\n                type="check"\n                v-show="v.selected"\n                style="float:right;margin: 12px 10px;"\n                />\n            </a-menu-item>\n            </a-menu>\n        </template>\n\n        <a-button\n            :ghost="true"\n            type="primary"\n            shape="circle"\n            icon="user"\n            class="ava-btn"\n        />\n    </a-popover>\n\n    </div>\n    ',methods:{userSelect:function(t){var e=!!this.member.find((function(e){return e.uid===t.uid}));e?this.$emit("change",this.member.filter((function(e){return e.uid!==t.uid}))):this.$emit("change",this.member.concat([Object.assign({},t)]))}},data:function(){return{keyWord:"",userVisible:!1}},computed:{userKeys:function(){return[]},userSelectList:function(){var t=this,e=this.keyWord.toLocaleLowerCase().trim();return this.userList.filter((function(t){var n=t.realname;return!e||!n||n.toLocaleLowerCase().indexOf(e)>=0})).map((function(e){return Object.assign({},e,{selected:!!t.member.find((function(t){return t.uid===e.uid}))})}))}}},q={props:["desc"],template:'\n    <div class="input-item" style="width:100%">\n      <div class="input-item-title">\n        描述 \n        <a-button type="link" size="small" @click="()=>edit()" v-show="status===\'display\'">\n          编辑\n        </a-button></div>\n      <div class="input-item-content">\n        <p class="detail-display" v-show="status===\'display\'">{{desc}}</p>\n        <a-input\n          v-show="status===\'edit\'"\n          type="textarea"\n          :auto-size="{minRows: 1}"\n          v-model="text"\n          style="resize: none;width:100%;margin:8px 0"\n        ></a-input>\n        <div v-show="status===\'edit\'">\n          <async-button type="primary" @click="cb=>cb(save())">保存</async-button>\n          <a-button type="link" @click="()=>cancel()">取消</a-button>\n        </div>\n      </div>  \n    </div> \n    ',data:function(){return{status:"display",text:""}},methods:{edit:function(){this.status="edit",this.text=this.desc},save:function(){var t=this;return new Promise((function(e,n){t.$emit("change",t.text,{res:e,rej:n})})).then((function(){return t.status="display"}))},cancel:function(){this.text="",this.status="display"}}},X={props:["msg"],template:'\n    <flex-row class="comment-item">\n      <flex-fixed style="margin-right:12px">\n\n        <a-avatar\n        class="ava-btn"\n        :style="{ \n          backgroundColor: \'rgb(19,194,194)\', \n        }">\n        {{msg.user.realname[0]}}{{msg.user.realname[1]?msg.user.realname[1]:""}}\n        </a-avatar>\n      \n      </flex-fixed>\n      <flex-fill>\n      <div style="padding: 4px 0;">\n        <b>{{msg.user.realname}}</b> \n        <span style="padding-left:4px;font-size:12px;color:rgb(171,171,171)">{{msg.date.format("MMMDo hh:mm")}}</span>\n        <a-button size="small" style="float:right" type="link"  icon="delete"/>\n      </div>\n      <p>{{msg.content}}</p>\n      \n      </flex-fill>\n    </flex-row>\n  '},J={template:'\n    <div style="padding:16px" @click.stop >\n      <div \n        v-show="status==\'display\'"\n        @click="toInputMode" \n        style="background:rgb(239,239,239);height:44px;line-height:44px;border-radius:6px;padding-left:24px">\n        评论内容，文字上限 500 字\n      </div>     \n      <div v-show="status==\'input\'"> \n        <a-input style="margin-bottom:16px" type="textarea" :rows="4" v-model="text" ref="ta" placeholder="评论内容，文字上限 500 字"/>\n        <a-button  type="primary">发送</a-button><a-button type="link">取消</a-button>\n      </div>\n    </div>\n  ',data:function(){return{status:"display",text:""}},methods:{toInputMode:function(){var t=this;this.status="input",this.$nextTick().then((function(){t.$refs.ta.focus()})),document.body.onclick=function(){t.toDisplayMode(),document.body.onclick=null}},toDisplayMode:function(){this.status="display"}}},Z={open:"OPEN"},H={components:{CircleTimeBtn:K,CircleMemberBtn:G,DetailEditLineContent:q,CommentItem:X,CircleHourBtn:W,CommentInput:J},props:["userList"],data:function(){return{name:"项",keyWord:"",visible:!1,info:{beginTime:null,endTime:null,desc:"dafkfjdakddfk",member:[],hour:""},comments:[{content:"水边测试一哈",date:new $.a,user:{realname:"周旆宾",id:""}},{content:"我也水边测试一哈",date:new $.a,user:{realname:"周旆宾",id:""}},{content:"再测试一哈",date:new $.a,user:{realname:"周旆宾",id:""}}]}},methods:Object(Y["a"])({updateInfo:function(t,e){this.info[t]=e},saveDesc:function(t,e){var n=e.res;this.updateInfo("desc",t),n()}},Z.open,(function(t){console.log(t),this.visible=!0,this.name="项目需求调研"})),mounted:function(){}},Q=H,tt=(n("1ede"),Object(c["a"])(Q,B,V,!1,null,null,null)),et=tt.exports,nt={components:{RowOpreater:d,CellPanel:I,CardModal:et},props:["id"],data:function(){return{templateName:"",title:"",rows:[],cols:[],cards:[],allUserList:[]}},mounted:function(){var t=this;this.loadDetail(),P["b"]().then((function(e){t.allUserList=e,console.log(t.allUserList)}))},computed:{cells:function(){var t=this;return this.rows.flatMap((function(e){var n=e.rowId;return t.cols.map((function(e){var r=e.colId;return{rowId:n,colId:r,type:"panel",items:t.cards.filter((function(t){return t.rowId===n&&t.colId===r}))}})).concat([{rowId:n,colId:null,type:"operate"}])}))}},methods:{cellVersion:function(t){var e=t.rowId,n=t.colId,r=this.cards.find((function(t){return t.rowId===e&&t.colId===n}));return r?r.version:""},addItem:function(t){var e=this,n=t.rowId,r=t.colId,i=t.sort,a=t.info,o=void 0===a?{}:a;console.log(o),window.a=o;var s={rowId:n,colId:r,sort:i,content:o.content,hour:o.hour||0,executors:o.user||[],time:o.time||null};this.cards.push(s),M(this.id,s).then((function(){return e.loadDetail()}))},updateItemsList:function(t){var e=this;return U(this.id,t).finally((function(){return e.loadCells(t)}))},loadCells:function(t){var e=this;return z(this.id,t.map((function(t){var e=t.rowId,n=t.colId;return{rowId:e,colId:n}}))).then((function(t){t.forEach((function(t){var n=t.rowId,r=t.colId,i=t.items;e.cards=e.cards.filter((function(t){return t.rowId!==n||t.colId!==r})).concat(i)}))}))},updateItems:function(t){var e=this,n=t.rowId,r=t.colId,i=t.items;this.$updateCache||(this.$updateCache=[]),this.$updateTimeout&&clearTimeout(this.$updateTimeout),this.$updateCache.push({rowId:n,colId:r,version:this.cellVersion({rowId:n,colId:r}),items:i.map((function(t,e){return Object.assign({},t,{sort:e})}))}),this.$updateTimeout=setTimeout((function(){console.log(e.$updateCache),e.updateItemsList(e.$updateCache),e.$updateCache=[],e.$updateTimeout=null}),50),this.cards=this.cards.filter((function(t){return t.rowId!==n||t.colId!==r})).concat(i.map((function(t,e){return Object.assign({},t,{colId:r,rowId:n,sort:e})})))},loadDetail:function(){var t=this;return A(this.id).then((function(e){var n=e.title,r=e.cols,i=e.rows,a=e.cards,o=e.templateName;t.title=n,t.cols=r,t.rows=i,t.cards=a,t.templateName=o})).then((function(){}))},addRow:function(){var t=this;O(this.id).then((function(){return t.loadDetail()}))},addCol:function(){this.cols.push({colId:_()})},rowUp:function(t){var e=this,n=this.rows.flatMap((function(e,n,r){return e.rowId===t&&r[n-1]?[e,r[n-1]]:r[n+1]&&r[n+1].rowId===t?[]:[e]}));j(n).then((function(){return e.loadDetail()}))},rowDown:function(t){var e=this,n=this.rows.flatMap((function(e,n,r){return e.rowId===t&&r[n+1]?[r[n+1],e]:r[n-1]&&r[n-1].rowId===t?[]:[e]}));j(n).then((function(){return e.loadDetail()}))},rowTop:function(t){var e=this,n=this.rows.filter((function(e){return e.rowId===t})).concat(this.rows.filter((function(e){return e.rowId!==t})));j(n).then((function(){return e.loadDetail()}))},rowBottom:function(t){var e=this,n=this.rows.filter((function(e){return e.rowId!==t})).concat(this.rows.filter((function(e){return e.rowId===t})));j(n).then((function(){return e.loadDetail()}))},rowDelete:function(t){var e=this;F(t).then((function(){return e.loadDetail()}))},rowCopy:function(){this.loadDetail()},openDetail:function(t){this.$refs.cardModal[Z.open](t)}}},rt=nt,it=(n("489b"),Object(c["a"])(rt,r,i,!1,null,"538e4544",null));e["default"]=it.exports},"5db7":function(t,e,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("1c0b"),l=n("65f0");r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=o(n.length);return s(t),e=l(n,0),e.length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),a=function(t){return function(e,n){var a,o,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(t,o),t}},"73d9":function(t,e,n){var r=n("44d2");r("flatMap")},"81d5":function(t,e,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4");t.exports=function(t){var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);while(c>s)e[s++]=t;return e}},"8a42":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(s=function(t){var e,n,i,s,d=this,p=c&&d.sticky,f=r.call(d),m=d.source,h=0,g=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,h++),n=new RegExp("^(?:"+m+")",f)),u&&(n=new RegExp("^"+m+"$(?!\\s)",f)),l&&(e=d.lastIndex),i=a.call(p?n:d,g),p?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:l&&i&&(d.lastIndex=d.global?i.index+i[0].length:e),u&&i&&i.length>1&&o.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"950f":function(t,e,n){},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,l=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var r=n("e8b5"),i=n("50c4"),a=n("0366"),o=function(t,e,n,s,l,c,u,d){var p,f=l,m=0,h=!!u&&a(u,d,3);while(m<s){if(m in n){if(p=h?h(n[m],m,e):n[m],c>0&&r(p))f=o(t,e,p,i(p.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=p}f++}m++}return f};t.exports=o},a55b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("div",{staticClass:"whitebg"},[t._m(0),n("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center",height:"450px","margin-left":"80px","margin-right":"80px",width:"400px"}},[t.switchLogin?n("a-form-model",{key:"login",ref:"logForm",staticStyle:{height:"600px"},attrs:{rules:t.rules,model:t.form}},[n("h3",{staticClass:"welcomelogo",staticStyle:{"margin-top":"80px",color:"#13c2c2"}},[t._v("账号密码登录")]),n("a-form-model-item",{ref:"logusername",attrs:{prop:"logusername"}},[n("a-input",{staticClass:"input-text",attrs:{placeholder:"请输入用户名",type:"text"},model:{value:t.form.logusername,callback:function(e){t.$set(t.form,"logusername",e)},expression:"form.logusername"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-model-item",{ref:"logpassword",attrs:{prop:"logpassword"}},[n("a-input",{staticClass:"input-text",attrs:{autocomplete:"false",placeholder:"请输入密码",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handingClickBtn(e)}},model:{value:t.form.logpassword,callback:function(e){t.$set(t.form,"logpassword",e)},expression:"form.logpassword"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),n("a-form-model-item",{ref:"checked",staticStyle:{"margin-top":"-16px","margin-bottom":"5px"},attrs:{prop:"checked"}},[n("a-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("15内自动登录")])],1),n("a-form-model-item",[n("async-button",{ref:"loginBtn",staticClass:"login-button",attrs:{type:"primary"},on:{click:function(e){return e(t.handleLogin())}}},[t._v("登录")])],1),n("div",{staticClass:"message-info"},[t._v(" 还没有账号？ "),n("a",{staticStyle:{color:"#27c5a5"},on:{click:t.switchReg}},[t._v("立即注册")])])],1):n("a-form-model",{key:"sign",ref:"regForm",staticStyle:{height:"600px"},attrs:{model:t.regForm,rules:t.regrules}},[n("h3",{staticClass:"welcomelogo",staticStyle:{"margin-top":"90px","margin-bottom":"24px",color:"#13c2c2"}},[t._v("账号注册")]),n("a-form-model-item",{attrs:{"has-feedback":"",prop:"regusername"}},[n("a-input",{ref:"regusername",staticClass:"input-text",attrs:{placeholder:"请输入用户名",type:"text"},model:{value:t.regForm.regusername,callback:function(e){t.$set(t.regForm,"regusername",e)},expression:"regForm.regusername"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-model-item",{attrs:{"has-feedback":"",prop:"realname"}},[n("a-input",{ref:"realname",staticClass:"input-text",attrs:{placeholder:"请填写真实姓名",type:"text"},model:{value:t.regForm.realname,callback:function(e){t.$set(t.regForm,"realname",e)},expression:"regForm.realname"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-model-item",{attrs:{"has-feedback":"",prop:"regpassword"}},[n("a-input",{ref:"regpassword",staticClass:"input-text",attrs:{autocomplete:"false",placeholder:"密码长度在6位-12位之间",type:"password"},model:{value:t.regForm.regpassword,callback:function(e){t.$set(t.regForm,"regpassword",e)},expression:"regForm.regpassword"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),n("a-form-model-item",{attrs:{"has-feedback":"",prop:"checkpassword"}},[n("a-input",{staticClass:"input-text",attrs:{autocomplete:"false",placeholder:"请再次输入密码",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handingClickRegBtn(e)}},model:{value:t.regForm.checkpassword,callback:function(e){t.$set(t.regForm,"checkpassword",e)},expression:"regForm.checkpassword"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),n("a-form-model-item",[n("async-button",{ref:"regBtn",staticClass:"login-button",attrs:{type:"primary"},on:{click:function(e){return e(t.handleRegister())}}},[t._v("注册")])],1),n("div",{staticClass:"message-info"},[n("a",{staticStyle:{color:"#27c5a5"},on:{click:t.switchLog}},[t._v("返回登录")])])],1)],1)])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{display:"flex","align-items":"center"}},[r("img",{staticStyle:{"border-top-left-radius":"8px","border-bottom-left-radius":"8px"},attrs:{src:n("fcb4")}})])}],a=(n("a9e3"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("5530")),o=n("2f62"),s=n("7cd9"),l={data:function(){var t=this,e=function(e,n,r){""===n?r(new Error("请输入密码")):n.length>5&&n.length<12?(t.$refs.regForm.validateField("checkpassword"),r()):r(new Error("密码长度必须在6至12位之间"))},n=function(e,n,r){""===n?r(new Error("请再次输入密码")):n!=t.regForm.regpassword?r(new Error("两次输入的密码不一致，请重新输入")):r()};return{switchLogin:!0,checked:!1,form:{logusername:"",logpassword:""},rules:{logusername:[{required:!0,message:"请输入用户名",trigger:"change"}],logpassword:[{required:!0,message:"请输入密码",trigger:"change"}]},regForm:{realname:"",regusername:"",regpassword:"",checkpassword:""},regrules:{realname:[{required:!0,message:"请填写真实姓名",trigger:"change"}],regusername:[{validator:function(t,e,n){""===e?n(new Error("请输入用户名")):new RegExp("[一-龥]").test(e)?n(new Error("用户名不支持中文字符")):e.length<5?n(new Error("用户名长度不能小于5位")):new RegExp("^[a-zA-Z][a-zA-Z0-9_]{4,15}$").test(e)?n():n(new Error("用户名仅支持字母数字下划线"))},trigger:"change"}],regpassword:[{validator:e,trigger:"change"}],checkpassword:[{validator:n,trigger:"change"}]}}},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(o["b"])("userInfo",["isLogin"])),Object(o["c"])("userInfo",["updateUserInfo","shouldClearToken"])),{},{handingClickRegBtn:function(){this.$refs.regBtn.click()},handleRegister:function(){var t=this;return this.$refs.regForm.validate().then((function(){var e=t.regForm,n=e.realname,r=e.regusername,i=e.regpassword;return s["d"]({realname:n,username:r,password:i})})).then((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t){return setTimeout((function(){t.apply(void 0,e)}),500)}))})).then((function(){t.$message.success("注册成功！"),t.switchLogin=!0,t.$refs.logForm&&t.$refs.logForm.resetFields(),t.$refs.regusername="",t.$refs.regpassword="",t.$refs.checkpassword="",t.$refs.regForm&&t.$refs.regForm.resetFields()})).catch((function(t){!1===t&&console.warn("validate error")}))},handingClickBtn:function(){this.$refs.loginBtn.click()},handleLogin:function(){var t=this;return this.$refs.logForm.validate().then((function(){var e=Number(t.checked),n=t.form,r=n.logusername,i=n.logpassword;return s["c"]({username:r,password:i,checked:e})})).then((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t){return setTimeout((function(){t.apply(void 0,e)}),2e3)}))})).then((function(e){var n=e.token,r=e.userInfo;t.$router.push("/"),t.updateUserInfo({token:n,username:r.nickname,avatar:"blank",org:r.depName})})).catch((function(t){!1===t&&console.warn("validate error")}))},switchReg:function(){this.switchLogin=!1,this.$refs.logForm.resetFields()},switchLog:function(){this.$refs.regForm.resetFields(),this.switchLogin=!0}})},c=l,u=(n("4538"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"311edd8c",null);e["default"]=d.exports},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),f=n("241c").f,m=n("06cf").f,h=n("9bf2").f,g=n("58a8").trim,v="Number",x=i[v],b=x.prototype,w=l(p(b))==v,y=function(t){var e,n,r,i,a,o,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(l=a.charCodeAt(s),l<48||l>i)return NaN;return parseInt(a,r)}return+c};if(a(v,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(w?d((function(){b.valueOf.call(n)})):l(n)!=v)?c(new x(y(e)),n,k):y(e)},C=r?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)s(x,I=C[_])&&!s(k,I)&&h(k,I,m(x,I));k.prototype=b,b.constructor=k,o(i,v,k)}},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||a[t]()!=a||i[t].name!==t}))}},cb29:function(t,e,n){var r=n("23e7"),i=n("81d5"),a=n("44d2");r({target:"Array",proto:!0},{fill:i}),a("fill")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(a){}return function(n,a){return r(n),i(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),l=a("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var m=a(t),h=!i((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),g=h&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!h||!g||"replace"===t&&(!c||!u||p)||"split"===t&&!f){var v=/./[m],x=n(m,""[t],(function(t,e,n,r,i){return e.exec===o?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=x[0],w=x[1];r(String.prototype,t,b),r(RegExp.prototype,m,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}d&&s(RegExp.prototype[m],"sham",!0)}},ea12:function(t,e,n){},f93c:function(t,e,n){"use strict";var r=n("950f"),i=n.n(r);i.a},fcb4:function(t,e,n){t.exports=n.p+"img/bg-left.88a2d894.png"}}]);
//# sourceMappingURL=about.e16af2bb.js.map